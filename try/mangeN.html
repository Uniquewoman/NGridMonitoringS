<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Nodes</title>
    <link rel="stylesheet" href="MangeN.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-title">MANGE NODES</div>
        <nav class="header-nav">
            <a href="dashboard.html">DASHBOARD</a>
            <a href="alerts.html">ALERTS & ACTIVITY</a>
            <a href="reports.html">REPORTS</a>
            <a href="settings.html">SETTINGS</a>
            <a href="user.html"><i class="fas fa-user"></i> USER</a>
            <a href="help.html"><i class="fas fa-question-circle"></i> HELP</a>
            <a href="login.html" class="login-icon">
                <i class="fas fa-arrow-right"></i> Login
            </a>
        </nav>
    </header>

    <main>
        <h1>Manage Your Nodes by City</h1>
        
        <div class="city-container">
            <div class="city">
                <h2>Riyadh</h2>
                <button onclick="toggleNodes('riyadhNodes')">Show All</button>
                <div class="nodes" id="riyadhNodes" style="display: none;">
                    <div class="node" data-ip="192.168.1.1" data-status="Operational" data-uptime="99.90%">
                        <span>A1</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.1.2" data-status="Warning" data-uptime="95.00%">
                        <span>A2</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.1.3" data-status="Critical" data-uptime="85.00%">
                        <span>A3</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.1.4" data-status="Operational" data-uptime="99.50%">
                        <span>A4</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.1.5" data-status="Operational" data-uptime="99.80%">
                        <span>A5</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                </div>
            </div>

            <div class="city">
                <h2>Jeddah</h2>
                <button onclick="toggleNodes('jeddahNodes')">Show All</button>
                <div class="nodes" id="jeddahNodes" style="display: none;">
                    <div class="node" data-ip="192.168.2.1" data-status="Operational" data-uptime="98.90%">
                        <span>B1</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.2.2" data-status="Warning" data-uptime="96.00%">
                        <span>B2</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button>
                    </div>
                    <div class="node" data-ip="192.168.2.3" data-status="Critical" data-uptime="80.00%">
                        <span>B3</span>
                        <button onclick="editNode(this)">Edit Node</button>
                        <button onclick="deleteNode(this)">Delete Node</button></div>
                        <div class="node" data-ip="192.168.2.4" data-status="Operational" data-uptime="97.50%">
                            <span>B4</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.2.5" data-status="Operational" data-uptime="98.80%">
                            <span>B5</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                    </div>
                </div>
    
                <div class="city">
                    <h2>Dammam</h2>
                    <button onclick="toggleNodes('dammamNodes')">Show All</button>
                    <div class="nodes" id="dammamNodes" style="display: none;">
                        <div class="node" data-ip="192.168.3.1" data-status="Operational" data-uptime="99.00%">
                            <span>C1</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.3.2" data-status="Warning" data-uptime="94.00%">
                            <span>C2</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.3.3" data-status="Critical" data-uptime="85.00%">
                            <span>C3</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.3.4" data-status="Operational" data-uptime="99.50%">
                            <span>C4</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.3.5" data-status="Operational" data-uptime="99.80%">
                            <span>C5</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                    </div>
                </div>
    
                <div class="city">
                    <h2>Khobar</h2>
                    <button onclick="toggleNodes('khobarNodes')">Show All</button>
                    <div class="nodes" id="khobarNodes" style="display: none;">
                        <div class="node" data-ip="192.168.4.1" data-status="Operational" data-uptime="98.50%">
                            <span>D1</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.4.2" data-status="Warning" data-uptime="93.00%">
                            <span>D2</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.4.3" data-status="Critical" data-uptime="85.00%">
                            <span>D3</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.4.4" data-status="Operational" data-uptime="99.50%">
                            <span>D4</span>
                            <button onclick="editNode(this)">Edit Node</button><button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                        <div class="node" data-ip="192.168.4.5" data-status="Operational" data-uptime="99.98%">
                            <span>D5</span>
                            <button onclick="editNode(this)">Edit Node</button>
                            <button onclick="deleteNode(this)">Delete Node</button>
                        </div>
                    </div>
                </div>
            </div>
    
            <div id="nodeFormContainer" class="form-container" style="display: none;">
                <h3 id="formTitle">Edit Node</h3>
                <form id="nodeForm">
                    <div class="form-group">
                        <label for="ip">IP Address:</label>
                        <input type="text" id="ip" name="ip" required>
                    </div>
                    <div class="form-group">
                        <label for="status">Status:</label>
                        <select id="status" name="status" required>
                            <option value="Operational">Operational</option>
                            <option value="Warning">Warning</option>
                            <option value="Critical">Critical</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="uptime">Uptime (%):</label>
                        <input type="number" id="uptime" name="uptime" min="0" max="100" required>
                    </div>
                    <input type="hidden" id="editNodeElement">
                    <button type="submit">Save Changes</button>
                    <button type="button" onclick="cancelForm()">Cancel</button>
                </form>
            </div>
        </main>
        <a href="settings.html" class="back-link">⬅️ Back to Settings</a>
        <script>
            function toggleNodes(nodeId) {
                const nodesDiv = document.getElementById(nodeId);
                nodesDiv.style.display = nodesDiv.style.display === 'none' ? 'block' : 'none';
            }
    
            function editNode(button) {
                const node = button.parentElement;
                const ip = node.getAttribute('data-ip');
                const status = node.getAttribute('data-status');
                const uptime = node.getAttribute('data-uptime');
    
                document.getElementById('ip').value = ip;
                document.getElementById('status').value = status;
                document.getElementById('uptime').value = uptime;
                document.getElementById('editNodeElement').value = node.innerText.trim();
                document.getElementById('nodeFormContainer').style.display = 'block';
            }
    
            function deleteNode(button) {
                const node = button.parentElement;
                node.remove();
            }
    
            document.getElementById('nodeForm').addEventListener('submit', function(event) {
                event.preventDefault();
    
                const ip = document.getElementById('ip').value;
                const status = document.getElementById('status').value;
                const uptime = document.getElementById('uptime').value;
                const nodeName = document.getElementById('editNodeElement').value;
    
                const node = document.querySelector(`.node:contains(${nodeName})`);
                if (node) {
                    node.setAttribute('data-ip', ip);
                    node.setAttribute('data-status', status);
                    node.setAttribute('data-uptime', uptime);
                    node.querySelector('span').innerText = nodeName;
                }
    
                cancelForm();
            });
    
            function cancelForm() {
                document.getElementById('nodeFormContainer').style.display = 'none';
                document.getElementById('nodeForm').reset();
            }
        </script>
    </body>
    </html>